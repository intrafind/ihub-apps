import{u as j,j as e,I as a,g as w}from"./index-BImwYGvy.js";import{e as N,r as i}from"./vendor-react-9AdXaApd.js";import{A as b}from"./AdminAuth-DlQsuewr.js";import{A as v}from"./AdminNavigation-BmtWl3vA.js";import{b as A,c as k}from"./adminApi-ChCbw-zB.js";import"./mermaid-DechTdnA.js";import"./vendor-utils-CF1RCcgi.js";import"./teams-CwMtNG0x.js";import"./vendor-ui-lZiltAcz.js";import"./vendor-forms-DyVXvDXu.js";const $=()=>{const{t:s,i18n:o}=j(),x=o.language,r=N(),[p,l]=i.useState([]),[g,d]=i.useState(!0),[c,m]=i.useState(null);i.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0);const t=await A();l(t)}catch(t){m(t.message)}finally{d(!1)}},u=async t=>{if(window.confirm(s("admin.pages.confirmDelete","Delete this page?")))try{await k(t),l(n=>n.filter(y=>y.id!==t))}catch(n){m(n.message)}},f=t=>w(t.title,x);return g?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c?e.jsx("div",{className:"text-center text-red-600 py-8",children:c}):e.jsxs(b,{children:[e.jsx(v,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:s("admin.pages.title","Pages Administration")}),e.jsx("p",{className:"mt-2 text-sm text-gray-700",children:s("admin.pages.subtitle","Manage static pages displayed in the application")})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",onClick:()=>r("/admin/pages/new"),children:[e.jsx(a,{name:"plus",className:"h-4 w-4 mr-2"}),s("admin.pages.create","Create Page")]})})]}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("admin.pages.fields.title","Title")}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("admin.pages.access","Access")}),e.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("admin.pages.actions","Actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:t.id}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:f(t)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:t.authRequired?Array.isArray(t.allowedGroups)&&t.allowedGroups.length>0?t.allowedGroups.join(", "):s("common.all","All"):s("common.none","None")}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>window.open(`/pages/${t.id}`,"_blank"),className:"p-2 text-green-600 hover:bg-green-50 rounded-full",title:s("common.view","View"),children:e.jsx(a,{name:"eye",className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>r(`/admin/pages/${t.id}`),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full",title:s("common.edit","Edit"),children:e.jsx(a,{name:"pencil",className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>u(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:s("common.delete","Delete"),children:e.jsx(a,{name:"trash",className:"h-4 w-4"})})]})]},t.id))})]})})})})})]})]})};export{$ as default};
