{
  "features": {
    "usageTracking": true
  },
  "globalPromptVariables": {
    "context": "Very important: The user's timezone is {{timezone}}. The current date is {{date}}. Any dates before this are in the past, and any dates after this are in the future. When dealing with modern entities/companies/people, and the user asks for the 'latest', 'most recent', 'today's', etc. don't assume your knowledge is up to date; You can and should speak any language the user asks you to speak or use the language of the user. \n"
  },
  "pdfExport": {
    "defaultTemplate": "default",
    "watermark": {
      "enabled": true,
      "text": "iHub Apps",
      "position": "bottom-right",
      "opacity": 0.5
    },
    "templates": {
      "default": {
        "name": "Default",
        "description": "Standard chat export with colors and branding"
      },
      "professional": {
        "name": "Professional",
        "description": "Clean professional layout suitable for business"
      },
      "minimal": {
        "name": "Minimal",
        "description": "Simple minimal design with clean lines"
      }
    }
  },
  "defaultLanguage": "en",
  "requestBodyLimitMB": 50,
  "cors": {
    "origin": ["http://localhost:3000", "http://localhost:5173", "${ALLOWED_ORIGINS}"],
    "methods": ["GET", "POST", "PUT", "DELETE", "OPTIONS", "HEAD", "PATCH"],
    "allowedHeaders": [
      "Content-Type",
      "Authorization",
      "X-Requested-With",
      "X-Forwarded-User",
      "X-Forwarded-Groups",
      "Accept",
      "Origin",
      "Cache-Control",
      "X-File-Name"
    ],
    "credentials": true,
    "optionsSuccessStatus": 200,
    "maxAge": 86400,
    "preflightContinue": false
  },
  "telemetry": {
    "enabled": false,
    "metrics": true,
    "traces": true,
    "logs": true,
    "port": 9464
  },
  "requestConcurrency": 2,
  "refreshSalt": {
    "salt": 9,
    "lastUpdated": "2025-07-08T17:00:38.743Z"
  },
  "admin": {
    "secret": "admin-secret",
    "encrypted": false,
    "pages": {
      "home": true,
      "usage": true,
      "system": true,
      "apps": true,
      "models": true,
      "prompts": true,
      "shortlinks": true,
      "pages": true,
      "auth": true,
      "users": true,
      "ui": true
    }
  },
  "auth": {
    "mode": "oidc",
    "authenticatedGroup": "authenticated",
    "sessionTimeoutMinutes": 480,
    "jwtSecret": "magic-secret"
  },
  "authDebug": {
    "enabled": true,
    "consoleLogging": true,
    "includeRawData": true,
    "maskTokens": false,
    "redactPasswords": false
  },
  "anonymousAuth": {
    "enabled": true,
    "defaultGroups": ["anonymous"]
  },
  "proxyAuth": {
    "enabled": false,
    "allowSelfSignup": false,
    "userHeader": "X-Forwarded-User",
    "groupsHeader": "X-Forwarded-Groups",
    "jwtProviders": [
      {
        "name": "example-provider",
        "header": "Authorization",
        "issuer": "https://example.com",
        "audience": "ihub-apps",
        "jwkUrl": "https://example.com/.well-known/jwks.json"
      }
    ]
  },
  "localAuth": {
    "enabled": true,
    "usersFile": "contents/config/users.json",
    "showDemoAccounts": false
  },
  "oidcAuth": {
    "enabled": true,
    "allowSelfSignup": true,
    "providers": [
      {
        "name": "auth.intrafind.cloud",
        "displayName": "auth.intrafind.cloud",
        "clientId": "${AUTH_CLIENT_ID}",
        "clientSecret": "${AUTH_CLIENT_SECRET}",
        "authorizationURL": "https://auth.intrafind.cloud/auth/realms/intrafind/protocol/openid-connect/auth",
        "tokenURL": "https://auth.intrafind.cloud/auth/realms/intrafind/protocol/openid-connect/token",
        "userInfoURL": "https://auth.intrafind.cloud/auth/realms/intrafind/protocol/openid-connect/userinfo",
        "scope": ["openid", "profile", "email"],
        "callbackURL": "/api/auth/oidc/auth.intrafind.cloud/callback",
        "groupsAttribute": "groups",
        "defaultGroups": ["users"],
        "pkce": true,
        "autoRedirect": false
      },
      {
        "name": "keycloak",
        "displayName": "Keycloak",
        "clientId": "${KEYCLOAK_CLIENT_ID}",
        "clientSecret": "${KEYCLOAK_CLIENT_SECRET}",
        "authorizationURL": "https://if6gpu.intrafind.org/keycloak/realms/intrafind/protocol/openid-connect/auth",
        "tokenURL": "https://if6gpu.intrafind.org/keycloak/realms/intrafind/protocol/openid-connect/token",
        "userInfoURL": "https://if6gpu.intrafind.org/keycloak/realms/intrafind/protocol/openid-connect/userinfo",
        "scope": ["openid", "profile", "email"],
        "callbackURL": "/api/auth/oidc/keycloak/callback",
        "groupsAttribute": "groups",
        "defaultGroups": ["users"],
        "pkce": true,
        "autoRedirect": false
      },
      {
        "name": "google",
        "displayName": "Google",
        "clientId": "${GOOGLE_CLIENT_ID}",
        "clientSecret": "${GOOGLE_CLIENT_SECRET}",
        "authorizationURL": "https://accounts.google.com/o/oauth2/v2/auth",
        "tokenURL": "https://www.googleapis.com/oauth2/v4/token",
        "userInfoURL": "https://www.googleapis.com/oauth2/v2/userinfo",
        "scope": ["openid", "profile", "email"],
        "callbackURL": "/api/auth/oidc/google/callback",
        "groupsAttribute": "groups",
        "defaultGroups": ["google-users"],
        "pkce": true,
        "autoRedirect": false
      },
      {
        "name": "microsoft",
        "displayName": "Microsoft",
        "clientId": "${MICROSOFT_CLIENT_ID}",
        "clientSecret": "${MICROSOFT_CLIENT_SECRET}",
        "authorizationURL": "https://login.microsoftonline.com/09bb6857-2fbd-4b58-9c1a-93213574239a/oauth2/v2.0/authorize",
        "tokenURL": "https://login.microsoftonline.com/09bb6857-2fbd-4b58-9c1a-93213574239a/oauth2/v2.0/token",
        "userInfoURL": "https://graph.microsoft.com/v1.0/me",
        "scope": ["openid", "profile", "email", "User.Read"],
        "callbackURL": "/api/auth/oidc/microsoft/callback",
        "groupsAttribute": "groups",
        "defaultGroups": ["microsoft-users"],
        "pkce": true,
        "autoRedirect": false
      },
      {
        "name": "auth0",
        "displayName": "Auth0",
        "clientId": "${AUTH0_CLIENT_ID}",
        "clientSecret": "${AUTH0_CLIENT_SECRET}",
        "authorizationURL": "https://${AUTH0_DOMAIN}/authorize",
        "tokenURL": "https://${AUTH0_DOMAIN}/oauth/token",
        "userInfoURL": "https://${AUTH0_DOMAIN}/userinfo",
        "scope": ["openid", "profile", "email"],
        "callbackURL": "/api/auth/oidc/auth0/callback",
        "groupsAttribute": "groups",
        "defaultGroups": ["auth0-users"],
        "pkce": true,
        "autoRedirect": false
      }
    ]
  },
  "ldapAuth": {
    "enabled": false,
    "providers": [
      {
        "name": "corporate-ldap",
        "displayName": "Corporate LDAP",
        "url": "ldap://ldap.example.com:389",
        "adminDn": "cn=admin,dc=example,dc=org",
        "adminPassword": "${LDAP_ADMIN_PASSWORD}",
        "userSearchBase": "ou=people,dc=example,dc=org",
        "usernameAttribute": "uid",
        "userDn": "uid={{username}},ou=people,dc=example,dc=org",
        "groupSearchBase": "ou=groups,dc=example,dc=org",
        "groupClass": "groupOfNames",
        "defaultGroups": ["ldap-users"],
        "sessionTimeoutMinutes": 480,
        "tlsOptions": {
          "rejectUnauthorized": false
        }
      },
      {
        "name": "active-directory",
        "displayName": "Active Directory",
        "url": "ldap://ad.example.com:389",
        "adminDn": "${AD_BIND_USER}@example.com",
        "adminPassword": "${AD_BIND_PASSWORD}",
        "userSearchBase": "dc=example,dc=com",
        "usernameAttribute": "sAMAccountName",
        "userDn": "{{username}}@example.com",
        "groupSearchBase": "dc=example,dc=com",
        "groupClass": "group",
        "defaultGroups": ["ad-users"],
        "sessionTimeoutMinutes": 480
      }
    ]
  },
  "ntlmAuth": {
    "enabled": false,
    "domain": "EXAMPLE",
    "domainController": "dc.example.com",
    "type": "ntlm",
    "debug": false,
    "getUserInfo": true,
    "getGroups": true,
    "defaultGroups": ["ntlm-users"],
    "sessionTimeoutMinutes": 480,
    "generateJwtToken": true
  },
  "iFinder": {
    "enabled": true,
    "baseUrl": "${IFINDER_API_URL}",
    "privateKey": "${IFINDER_PRIVATE_KEY}",
    "algorithm": "RS256",
    "issuer": "ihub-apps",
    "audience": "ifinder-api",
    "defaultScope": "",
    "tokenExpirationSeconds": 3600,
    "timeout": 30000,
    "downloadDir": "contents/data/downloads/ifinder-downloads",
    "defaultSearchProfile": "${IFINDER_SEARCH_PROFILE}",
    "endpoints": {
      "search": "/public-api/retrieval/api/v1/search-profiles/{profileId}/_search",
      "document": "/public-api/retrieval/api/v1/search-profiles/{profileId}/docs/{docId}",
      "facets": "/public-api/retrieval/api/v1/search-profiles/{profileId}/facets/{facetId}/_search",
      "autocomplete": "/public-api/retrieval/api/v1/search-profiles/{profileId}/_autocomplete",
      "indexing": "/public-api/indexing/api/v0/docs"
    }
  },
  "rateLimit": {
    "default": {
      "windowMs": 900000,
      "limit": 100,
      "standardHeaders": true,
      "legacyHeaders": false,
      "skipSuccessfulRequests": false,
      "skipFailedRequests": true
    },
    "adminApi": {
      "limit": 50,
      "skipFailedRequests": false
    },
    "publicApi": {},
    "authApi": {
      "limit": 30,
      "skipFailedRequests": false
    },
    "inferenceApi": {
      "limit": 60
    }
  },
  "ssl": {
    "ignoreInvalidCertificates": false
  }
}
