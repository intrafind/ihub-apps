<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Hub Chat Widget Demo</title>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary-color: rgb(0, 53, 87);
      --secondary-color: #e5e7eb;
      --text-color: #333;
      --light-bg: #f9fafb;
      --border-radius: 8px;
      --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      --section-spacing: 60px;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text-color);
      line-height: 1.6;
      padding: 0;
      margin: 0;
      background-color: var(--light-bg);
      overflow-x: hidden;
    }
    
    header {
      background-color: var(--primary-color);
      color: white;
      padding: 60px 20px;
      text-align: center;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    
    .tagline {
      font-size: 1.3rem;
      opacity: 0.9;
    }
    
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    section {
      padding: 60px 0;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    
    h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: var(--primary-color);
    }
    
    h3 {
      font-size: 1.5rem;
      margin: 25px 0 15px;
    }
    
    p {
      margin-bottom: 15px;
    }
    
    .feature-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: center;
    }
    
    @media (max-width: 768px) {
      .feature-section {
        grid-template-columns: 1fr;
      }
    }
    
    .feature-image {
      background-color: #e5e7eb;
      border-radius: var(--border-radius);
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--box-shadow);
    }
    
    .code-block {
      background-color: #1e1e3f;
      color: #fff;
      padding: 20px;
      border-radius: var(--border-radius);
      overflow-x: auto;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 0.9rem;
      line-height: 1.5;
      margin: 20px 0;
    }
    
    .widget-config-options {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--box-shadow);
      margin: 20px 0;
    }
    
    .widget-options-form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    @media (max-width: 600px) {
      .widget-options-form {
        grid-template-columns: 1fr;
      }
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    input, select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 1rem;
    }
    
    button {
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      padding: 10px 20px;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: rgb(0, 63, 107);
    }
    
    .demo-box {
      min-height: 400px;
      background-color: white;
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: var(--box-shadow);
      margin: 20px 0;
      position: relative;
    }
    
    .trigger-element {
      padding: 20px;
      background-color: #f0f8ff;
      border-radius: var(--border-radius);
      text-align: center;
      border: 2px dashed var(--primary-color);
    }
    
    .auto-open-trigger {
      margin-top: 20px;
      padding: 20px;
      background-color: #ffe8e8;
      border-radius: var(--border-radius);
      text-align: center;
      border: 2px dashed #d00;
    }
    
    .helper-text {
      font-size: 0.9rem;
      color: #666;
      margin-top: 5px;
    }
    
    footer {
      text-align: center;
      padding: 40px 0;
      background-color: var(--primary-color);
      color: white;
    }
    
    .hidden {
      display: none;
    }
    
    #buttonContainer {
      margin: 20px 0;
      text-align: center;
    }
    
    .tab-container {
      margin: 20px 0;
    }
    
    .tab-buttons {
      display: flex;
      border-bottom: 1px solid #ddd;
    }
    
    .tab-button {
      padding: 10px 20px;
      background-color: transparent;
      color: var(--text-color);
      border: none;
      border-bottom: 2px solid transparent;
      cursor: pointer;
    }
    
    .tab-button.active {
      border-bottom: 2px solid var(--primary-color);
      font-weight: 600;
    }
    
    .tab-content {
      padding: 20px;
      background-color: white;
      border-radius: 0 0 var(--border-radius) var(--border-radius);
      box-shadow: var(--box-shadow);
    }
    
    .tab-panel {
      display: none;
    }
    
    .tab-panel.active {
      display: block;
    }
  </style>
  
  <!-- Include the standalone widget script -->
  <script src="/src/components/widget/standalone/ai-hub-widget.js"></script>
</head>
<body>
  <header>
    <div class="container">
      <h1>AI Hub Chat Widget Demo</h1>
      <p class="tagline">A demonstration of advanced features for the AI Hub Chat Widget</p>
    </div>
  </header>
  
  <main class="container">
    <section id="overview">
      <h2>Widget Features Overview</h2>
      <p>
        This demo showcases the AI Hub Chat Widget with advanced features such as:
      </p>
      <ul>
        <li>Trigger elements that make the widget appear when specific content is visible</li>
        <li>Auto-open functionality when designated elements come into view</li>
        <li>Customizable appearance including position and colors</li>
        <li>Scroll-based visibility controlled through customizable offset</li>
        <li>Responsive design for all screen sizes</li>
      </ul>
      
      <div id="buttonContainer">
        <button onclick="aiHubWidget.open()">Try the Widget Now</button>
      </div>
    </section>
    
    <section id="basic-usage">
      <h2>Basic Usage</h2>
      <div class="feature-section">
        <div>
          <p>
            Integrating the AI Hub Chat Widget into your website is straightforward. 
            Simply include our script and initialize it with your desired configuration.
          </p>
          
          <div class="code-block">
            <pre><code>&lt;!-- Add this to your HTML --&gt;
&lt;script src="https://your-domain.com/ai-hub-widget.js"&gt;&lt;/script&gt;

&lt;script&gt;
  // Initialize the widget
  document.addEventListener('DOMContentLoaded', function() {
    aiHubWidget.init({
      appId: 'your-app-id', // Optional
      position: 'right',    // 'right' or 'left'
      triggerOffset: 300    // Scroll position in pixels
    });
  });
&lt;/script&gt;</code></pre>
          </div>
        </div>
        <div class="feature-image">
          <img src="placeholder-image.jpg" alt="Widget Screenshot" style="max-width: 100%; height: auto;">
        </div>
      </div>
    </section>
    
    <section id="trigger-demo">
      <h2>Trigger Element Demo</h2>
      <p>
        Scroll down to see how the widget can be triggered by specific elements on your page. 
        The widget toggle button will appear when this trigger element comes into view.
      </p>
      
      <div class="demo-box" id="trigger-demo-box">
        <h3>Scroll Down</h3>
        
        <div class="spacer" style="height: 200px;"></div>
        
        <div id="widget-trigger" class="trigger-element">
          <h4>This is a Trigger Element</h4>
          <p>The widget toggle button should appear when this element is visible.</p>
        </div>
        
        <div class="spacer" style="height: 100px;"></div>
        
        <div id="auto-open-trigger" class="auto-open-trigger">
          <h4>This is an Auto-Open Trigger</h4>
          <p>The widget should automatically open when this element is visible.</p>
        </div>
      </div>
      
      <div class="code-block">
        <pre><code>// Configure the widget with trigger elements
aiHubWidget.init({
  triggerElement: '#widget-trigger',    // Element that makes the widget visible
  autoOpenTrigger: '#auto-open-trigger' // Element that opens the widget
});</code></pre>
      </div>
    </section>
    
    <section id="configuration">
      <h2>Configuration Options</h2>
      
      <div class="tab-container">
        <div class="tab-buttons">
          <button class="tab-button active" onclick="openTab('basic-config')">Basic Options</button>
          <button class="tab-button" onclick="openTab('trigger-config')">Trigger Options</button>
          <button class="tab-button" onclick="openTab('style-config')">Style Options</button>
        </div>
        
        <div class="tab-content">
          <div id="basic-config" class="tab-panel active">
            <h3>Basic Configuration</h3>
            <ul>
              <li><strong>appId</strong> - The ID of the app to use in the widget</li>
              <li><strong>position</strong> - Position of the widget ('right' or 'left')</li>
              <li><strong>language</strong> - The default language for the widget</li>
            </ul>
            <div class="code-block">
              <pre><code>aiHubWidget.init({
  appId: 'general-assistant',
  position: 'right',
  language: 'en'
});</code></pre>
            </div>
          </div>
          
          <div id="trigger-config" class="tab-panel">
            <h3>Trigger Configuration</h3>
            <ul>
              <li><strong>triggerElement</strong> - CSS selector for the element that makes the widget visible</li>
              <li><strong>autoOpenTrigger</strong> - CSS selector for the element that opens the widget when visible</li>
              <li><strong>triggerOffset</strong> - Scroll position (in pixels) to show the widget</li>
            </ul>
            <div class="code-block">
              <pre><code>aiHubWidget.init({
  triggerElement: '#help-section',
  autoOpenTrigger: '#contact-form',
  triggerOffset: 300
});</code></pre>
            </div>
          </div>
          
          <div id="style-config" class="tab-panel">
            <h3>Style Configuration</h3>
            <ul>
              <li><strong>primaryColor</strong> - Main color for the widget interface</li>
              <li><strong>secondaryColor</strong> - Secondary color for backgrounds</li>
              <li><strong>fontFamily</strong> - Custom font family</li>
            </ul>
            <div class="code-block">
              <pre><code>aiHubWidget.init({
  primaryColor: 'rgb(0, 53, 87)',
  secondaryColor: '#f3f4f6',
  fontFamily: 'Inter, sans-serif'
});</code></pre>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <section id="custom-demo">
      <h2>Try It Yourself</h2>
      <p>Customize the widget with your own configuration and see how it works:</p>
      
      <div class="widget-config-options">
        <form id="widget-demo-form" class="widget-options-form">
          <div class="form-group">
            <label for="position">Position:</label>
            <select id="position">
              <option value="right">Right</option>
              <option value="left">Left</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="primaryColor">Primary Color:</label>
            <input type="color" id="primaryColor" value="#003557">
          </div>
          
          <div class="form-group">
            <label for="triggerOffset">Trigger Offset (px):</label>
            <input type="number" id="triggerOffset" value="300" min="0" max="1000">
            <p class="helper-text">How far to scroll before showing the widget</p>
          </div>
          
          <div class="form-group">
            <label for="triggerElement">Trigger Element:</label>
            <select id="triggerElement">
              <option value="">None (use scroll offset)</option>
              <option value="#demo-trigger-1">Demo Trigger 1</option>
              <option value="#demo-trigger-2">Demo Trigger 2</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="autoOpenTrigger">Auto Open Trigger:</label>
            <select id="autoOpenTrigger">
              <option value="">None</option>
              <option value="#demo-auto-1">Auto Open Trigger 1</option>
              <option value="#demo-auto-2">Auto Open Trigger 2</option>
            </select>
          </div>
          
          <div class="form-group" style="grid-column: span 2; text-align: center;">
            <button type="button" onclick="applyWidgetConfig()">Apply Configuration</button>
          </div>
        </form>
      </div>
      
      <div class="demo-box" id="custom-demo-box">
        <h3>Scroll down to test your configuration</h3>
        
        <div style="height: 200px;"></div>
        
        <div id="demo-trigger-1" class="trigger-element">
          <h4>Demo Trigger Element 1</h4>
          <p>This element can trigger widget visibility</p>
        </div>
        
        <div style="height: 200px;"></div>
        
        <div id="demo-auto-1" class="auto-open-trigger">
          <h4>Auto Open Trigger 1</h4>
          <p>This element can auto-open the widget</p>
        </div>
        
        <div style="height: 200px;"></div>
        
        <div id="demo-trigger-2" class="trigger-element">
          <h4>Demo Trigger Element 2</h4>
          <p>Another trigger element example</p>
        </div>
        
        <div style="height: 200px;"></div>
        
        <div id="demo-auto-2" class="auto-open-trigger">
          <h4>Auto Open Trigger 2</h4>
          <p>Another auto-open trigger example</p>
        </div>
      </div>
    </section>
  </main>
  
  <footer>
    <div class="container">
      <p>AI Hub Chat Widget Demo - Explore the possibilities of our enhanced widget.</p>
    </div>
  </footer>
  
  <script>
    // Tab functionality
    function openTab(tabId) {
      // Hide all tab panels
      document.querySelectorAll('.tab-panel').forEach(panel => {
        panel.classList.remove('active');
      });
      
      // Deactivate all tab buttons
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      
      // Show the selected tab panel
      document.getElementById(tabId).classList.add('active');
      
      // Activate the clicked tab button
      event.currentTarget.classList.add('active');
    }
    
    // Function to apply custom widget configuration
    function applyWidgetConfig() {
      // Get form values
      const position = document.getElementById('position').value;
      const primaryColor = document.getElementById('primaryColor').value;
      const triggerOffset = parseInt(document.getElementById('triggerOffset').value);
      const triggerElement = document.getElementById('triggerElement').value;
      const autoOpenTrigger = document.getElementById('autoOpenTrigger').value;
      
      // Remove existing widget if any
      const container = document.querySelector('.ai-hub-widget-container');
      if (container) {
        container.remove();
      }
      
      // Apply new configuration
      aiHubWidget.init({
        serverUrl: window.location.origin,  // Ensure correct server URL
        position: position,
        primaryColor: primaryColor,
        triggerOffset: triggerOffset,
        triggerElement: triggerElement || null,
        autoOpenTrigger: autoOpenTrigger || null
      });
      
      alert('Widget configuration applied! Scroll around the demo box to see the effects.');
    }
    
    // Initialize default widget on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize with minimal configuration
      aiHubWidget.init({
        serverUrl: window.location.origin, // Ensure correct server URL
        triggerOffset: 50 // Show after minimal scrolling
      });
      
      // For development/debugging - display the full URL that will be used
      console.log('Widget will load from:', `${window.location.origin}/widget/chat`);
    });
  </script>
</body>
</html>