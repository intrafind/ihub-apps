import{m as r}from"./adminApi-DCK2UDnY.js";const t=new Map,m=300*1e3;function h(e){return e&&Date.now()-e.timestamp<m}async function i(e){const c=["app","model","prompt","group","platform","user"];if(!c.includes(e))throw new Error(`Invalid schema type: ${e}. Must be one of: ${c.join(", ")}`);const o=`schema_${e}`,a=t.get(o);if(h(a))return a.schema;try{const n=(await r(`/admin/schemas/${e}`,{method:"GET"})).data;return t.set(o,{schema:n,timestamp:Date.now()}),n}catch(s){if(console.error(`Failed to fetch ${e} schema:`,s),a)return console.warn(`Using stale cached schema for ${e}`),a.schema;throw new Error(`Failed to fetch ${e} schema: ${s.message}`)}}async function d(e){return i(e)}export{i as f,d as g};
