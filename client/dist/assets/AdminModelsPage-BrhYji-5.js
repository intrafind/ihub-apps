import{u as O,j as e,I as d,g as b}from"./index-CdJiYb_a.js";import{e as I,r,R as V}from"./vendor-react-9AdXaApd.js";import{f as X,i as Z,m as f,j as F}from"./adminApi-DCK2UDnY.js";import{A as _}from"./AdminAuth-w86Ms2_j.js";import{A as ee}from"./AdminNavigation-CghX6zwW.js";import"./mermaid-DechTdnA.js";import"./vendor-utils-CF1RCcgi.js";import"./teams-CwMtNG0x.js";import"./vendor-ui-lZiltAcz.js";import"./vendor-forms-DyVXvDXu.js";const se=({model:t,isOpen:y,onClose:g})=>{const{t:l,i18n:M}=O(),m=M.language,S=I(),[u,w]=r.useState(null),[o,h]=r.useState([]),[j,p]=r.useState(!1);r.useEffect(()=>{y&&t&&A()},[y,t]);const A=r.useCallback(async()=>{p(!0);try{const i=await X();i.messages&&i.messages.perModel&&i.messages.perModel[t.id]&&w({messages:i.messages.perModel[t.id],tokens:i.tokens.perModel[t.id]||0});const E=(await Z()).filter(L=>L.preferredModel===t.id);h(E)}catch(i){console.error("Error loading model data:",i)}finally{p(!1)}},[t]);if(!y||!t)return null;const D=i=>{switch(i){case"openai":return"cpu-chip";case"anthropic":return"academic-cap";case"google":return"globe-alt";case"mistral":return"lightning-bolt";case"local":return"computer-desktop";default:return"server"}},k=i=>{switch(i){case"openai":return"#00A67E";case"anthropic":return"#CC785C";case"google":return"#4285F4";case"mistral":return"#FF6B35";case"local":return"#6B7280";default:return"#6B7280"}};return e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold",style:{backgroundColor:k(t.provider)},children:e.jsx(d,{name:D(t.provider),className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b(t.name,m)}),e.jsx("p",{className:"text-sm text-gray-500",children:t.id})]})]}),e.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(d,{name:"x",className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[j&&e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:l("admin.models.details.status","Status")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.default&&e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:l("admin.models.details.default","Default")}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.enabled?l("admin.models.status.enabled","Enabled"):l("admin.models.status.disabled","Disabled")})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:l("admin.models.details.description","Description")}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b(t.description,m)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:l("admin.models.details.technicalDetails","Technical Details")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.provider","Provider")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:t.provider})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.modelId","Model ID")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:t.modelId||l("common.notSpecified","Not specified")})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.tokenLimit","Token Limit")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:t.tokenLimit?t.tokenLimit.toLocaleString():l("common.notSet","Not set")})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.supportsTools","Supports Tools")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:t.supportsTools?l("common.yes","Yes"):l("common.no","No")})]}),t.concurrency&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.concurrency","Concurrency")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:t.concurrency})]}),t.requestDelayMs&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.requestDelay","Request Delay")}),e.jsxs("div",{className:"text-sm text-gray-900 mt-1",children:[t.requestDelayMs,"ms"]})]})]})]}),t.url&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:l("admin.models.details.apiConfiguration","API Configuration")}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:l("admin.models.details.apiUrl","API URL")}),e.jsx("div",{className:"text-sm text-gray-900 break-all",children:t.url})]})]}),u&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:l("admin.models.details.usageStats","Usage Statistics")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.messages","Messages")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:u.messages.toLocaleString()})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:l("admin.models.details.tokens","Tokens")}),e.jsx("div",{className:"text-sm text-gray-900 mt-1",children:u.tokens.toLocaleString()})]})]})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:l("admin.models.details.appsUsingModel","Apps Using This Model")}),e.jsx("div",{className:"space-y-2",children:o.map(i=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:i.color||"#6B7280"},children:e.jsx(d,{name:i.icon||"chat-bubbles",className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b(i.name,m)}),e.jsx("div",{className:"text-xs text-gray-500",children:i.id})]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.enabled?"Enabled":"Disabled"})]})},i.id))})]}),!j&&!u&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx(d,{name:"chart-bar",className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:l("admin.models.details.noUsageData","No usage data available")})]}),!j&&o.length===0&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx(d,{name:"document-text",className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:l("admin.models.details.noApps","No apps are using this model as their preferred choice")})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-between items-center rounded-b-lg",children:[e.jsxs("button",{onClick:()=>{S(`/admin/models/${t.id}`),g()},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(d,{name:"pencil",className:"w-4 h-4 mr-2"}),l("admin.models.details.editModel")]}),e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:l("admin.models.details.close","Close")})]})]})})},xe=()=>{const{t,i18n:y}=O(),g=y.language,l=I(),[M,m]=r.useState([]),[S,u]=r.useState(!0),[w,o]=r.useState(null),[h,j]=r.useState(""),[p,A]=r.useState("all"),[D,k]=r.useState(null),[i,C]=r.useState({}),[E,L]=r.useState(null),[q,P]=r.useState(!1),[N,T]=r.useState(!1),U=async()=>{try{u(!0),o(null);const a=(await f("/admin/models")).data,n=Array.isArray(a)?a:[];m(n),n.length===0&&console.warn("No models returned from API")}catch(s){console.error("Error loading models:",s),o(s.message),m([])}finally{u(!1)}};r.useEffect(()=>{U()},[]);const B=async s=>{try{const n=(await f(`/admin/models/${s}/toggle`,{method:"POST"})).data;m(c=>c.map(x=>x.id===s?{...x,enabled:n.enabled}:x))}catch(a){o(a.message)}},J=async()=>{try{await F("*",!0),m(s=>s.map(a=>({...a,enabled:!0})))}catch(s){o(s.message)}},z=async()=>{try{await F("*",!1),m(s=>s.map(a=>({...a,enabled:!1,default:!1})))}catch(s){o(s.message)}},G=async s=>{var a;try{k(s);const c=(await f(`/admin/models/${s}/test`,{method:"POST"})).data;C(x=>({...x,[s]:c}))}catch(n){const c=((a=n.response)==null?void 0:a.data)||{};C(x=>({...x,[s]:{success:!1,message:c.message||"Test failed",error:c.error||n.message}}))}finally{k(null)}},W=s=>{L(s),P(!0)},Y=s=>{l("/admin/models/new",{state:{templateModel:s}})},H=async s=>{if(confirm(t("admin.models.deleteConfirm","Delete this model?")))try{await f(`/admin/models/${s}`,{method:"DELETE"}),m(a=>a.filter(n=>n.id!==s))}catch(a){o(a.message)}},K=async s=>{try{const n=(await f(`/admin/models/${s}`)).data,c=JSON.stringify(n,null,2),x=new Blob([c],{type:"application/json"}),R=URL.createObjectURL(x),v=document.createElement("a");v.href=R,v.download=`model-${s}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(R)}catch(a){o(`Failed to download model config: ${a.message}`)}},Q=async s=>{const a=s.target.files[0];if(!a)return;if(!a.name.endsWith(".json")){o("Please select a JSON file");return}T(!0);let n;try{const c=await a.text();if(n=JSON.parse(c),!n.id||!n.name||!n.description||!n.provider)throw new Error("Invalid model config: missing required fields (id, name, description, provider)");await f("/admin/models",{method:"POST",body:n}),await U(),s.target.value=""}catch(c){c.message.includes("already exists")?o(`Model with ID "${(n==null?void 0:n.id)||"unknown"}" already exists`):c instanceof SyntaxError?o("Invalid JSON file format"):o(`Failed to upload model config: ${c.message}`)}finally{T(!1)}},$=M.filter(s=>{const a=h===""||b(s.name,g).toLowerCase().includes(h.toLowerCase())||b(s.description,g).toLowerCase().includes(h.toLowerCase())||s.id.toLowerCase().includes(h.toLowerCase()),n=p==="all"||p==="enabled"&&s.enabled||p==="disabled"&&!s.enabled;return a&&n});return S?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):w?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(d,{name:"exclamation-triangle",className:"h-5 w-5 text-red-400"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:t("admin.models.loadError","Error loading models")}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:w}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-sm text-red-600 hover:text-red-500",children:t("common.retry","Retry")})]})]})}):e.jsx(_,{children:e.jsxs("div",{children:[e.jsx(ee,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"sm:flex sm:items-center",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t("admin.models.title","Model Management")}),e.jsx("p",{className:"mt-2 text-sm text-gray-700",children:t("admin.models.subtitle","Configure and manage AI models for your applications")})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>l("/admin/models/new"),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:[e.jsx(d,{name:"plus",className:"h-4 w-4 mr-2"}),t("admin.models.addNew","Add New Model")]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:".json",onChange:Q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:N}),e.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,title:t("admin.models.uploadConfig","Upload Model Config"),children:[e.jsx(d,{name:N?"refresh":"upload",className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),N?t("admin.models.uploading","Uploading..."):t("admin.models.uploadConfig","Upload Config")]})]}),e.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:J,children:t("admin.common.enableAll","Enable All")}),e.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:z,children:t("admin.common.disableAll","Disable All")})]})})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{name:"search",className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:t("admin.models.searchPlaceholder","Search models..."),value:h,onChange:s=>j(s.target.value)})]})}),e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{value:p,onChange:s=>A(s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:t("admin.models.filterAll","All Models")}),e.jsx("option",{value:"enabled",children:t("admin.models.filterEnabled","Enabled Only")}),e.jsx("option",{value:"disabled",children:t("admin.models.filterDisabled","Disabled Only")})]})})]}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("admin.models.name","Name")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("admin.models.provider","Provider")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("admin.models.table.status","Status")}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:t("admin.models.actions","Actions")})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(s=>e.jsxs(V.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>W(s),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(d,{name:"cpu-chip",className:"h-4 w-4 text-indigo-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b(s.name,g)}),e.jsx("div",{className:"text-sm text-gray-500",children:s.id})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.provider||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.enabled?t("admin.models.enabled","Enabled"):t("admin.models.disabled","Disabled")}),s.default&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t("admin.models.default","Default")})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),G(s.id)},disabled:D===s.id,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full disabled:opacity-50",title:t("admin.models.test","Test"),children:e.jsx(d,{name:"play",className:"h-4 w-4"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),B(s.id)},className:`p-2 rounded-full ${s.enabled?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:s.enabled?t("admin.models.disable","Disable"):t("admin.models.enable","Enable"),children:e.jsx(d,{name:s.enabled?"eye-slash":"eye",className:"h-4 w-4"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),l(`/admin/models/${s.id}`)},className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full",title:t("common.edit","Edit"),children:e.jsx(d,{name:"pencil",className:"h-4 w-4"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),Y(s)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:t("admin.models.clone","Clone"),children:e.jsx(d,{name:"copy",className:"h-4 w-4"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),K(s.id)},className:"p-2 text-green-600 hover:bg-green-50 rounded-full",title:t("admin.models.download","Download Config"),children:e.jsx(d,{name:"download",className:"h-4 w-4"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),H(s.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:t("admin.models.delete","Delete"),children:e.jsx(d,{name:"trash",className:"h-4 w-4"})})]})})]}),i[s.id]&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-3 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[i[s.id].success?e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"check-circle",className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-green-800",children:t("admin.models.test.success","Test Successful")}),e.jsx("div",{className:"text-sm text-gray-700 mt-1",children:i[s.id].response})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"x-circle",className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-red-800",children:i[s.id].message||t("admin.models.test.failed","Test Failed")}),i[s.id].error&&e.jsx("div",{className:"text-sm text-gray-700 mt-1",children:i[s.id].error})]})]}),e.jsx("button",{onClick:()=>{C(a=>{const n={...a};return delete n[s.id],n})},className:"text-gray-400 hover:text-gray-600",title:t("common.close","Close"),children:e.jsx(d,{name:"x-mark",className:"h-5 w-5"})})]})})},`${s.id}-test-result`)]},s.id))})]})})})})}),$.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(d,{name:"cpu-chip",className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:t("admin.models.noModels","No models found")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t("admin.models.noModelsDesc","Get started by creating a new model.")}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>l("/admin/models/new"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(d,{name:"plus",className:"h-4 w-4 mr-2"}),t("admin.models.addNew","Add New Model")]})})]}),e.jsx(se,{model:E,isOpen:q,onClose:()=>P(!1)})]})]})})};export{xe as default};
