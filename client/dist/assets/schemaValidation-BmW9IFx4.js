import{g as d}from"./vendor-react-9AdXaApd.js";import{r as b,a as v}from"./vendor-forms-DyVXvDXu.js";var $=b();const g=d($);var k=v();const q=d(k);function y(){const t=new g({allErrors:!0,verbose:!0,strict:!1,coerceTypes:!0});return q(t),t}function F(t,r){if(!r)return{isValid:!0,errors:[]};const s=y().compile(r);return s(t)?{isValid:!0,errors:[]}:{isValid:!1,errors:E(s.errors,r)}}function E(t,r){if(!t||!Array.isArray(t))return[];const n={};return t.forEach(s=>{var f;const{instancePath:a,keyword:c,message:m,params:e,schemaPath:P}=s;let l=a.replace(/^\//,"").replace(/\//g,".");if(c==="required"&&(e!=null&&e.missingProperty)&&(l=e.missingProperty),n[l])return;const u=V(r,l),o=(u==null?void 0:u.title)||l;let i;switch(c){case"required":i=`${o} is required`;break;case"type":i=`${o} must be ${e==null?void 0:e.type}`;break;case"pattern":i=(u==null?void 0:u.patternError)||`${o} format is invalid`;break;case"format":(e==null?void 0:e.format)==="email"?i="Please enter a valid email address":(e==null?void 0:e.format)==="uri"?i="Please enter a valid URL":i=`${o} must be a valid ${e==null?void 0:e.format}`;break;case"minLength":i=`${o} must be at least ${e==null?void 0:e.limit} characters`;break;case"maxLength":i=`${o} must be at most ${e==null?void 0:e.limit} characters`;break;case"minimum":i=`${o} must be at least ${e==null?void 0:e.limit}`;break;case"maximum":i=`${o} must be at most ${e==null?void 0:e.limit}`;break;case"enum":i=`${o} must be one of: ${(f=e==null?void 0:e.allowedValues)==null?void 0:f.join(", ")}`;break;case"uniqueItems":i=`${o} must contain unique values`;break;default:i=m||`${o} is invalid`}n[l]=i}),Object.entries(n).map(([s,a])=>({field:s,message:a,severity:"error"}))}function V(t,r){if(!t||!r)return null;const n=r.split(".");let s=t.properties;for(const a of n){if(!s||!s[a])return null;if(s[a].properties)s=s[a].properties;else return s[a]}return null}function j(t){return(t==null?void 0:t.required)||[]}function w(t,r){return j(r).includes(t)}function A(t){const r={};return t.forEach(n=>{n.field&&!r[n.field]&&(r[n.field]=n.message)}),r}function h(t,r){return t&&t!==r?"Passwords do not match":null}export{h as a,A as e,w as i,F as v};
